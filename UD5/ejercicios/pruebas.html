<!DOCTYPE html>
<html lang="en">
	<!-- Para la moda:
    a) Puede no haber moda
    b) Se repite un solo número más que los demás por lo tanto ese es la moda
    c) Se repiten dos números 	  → Si existe algún valor entre ellos, serían ambos la moda
                                  → Se suman ambos valores y la mitad sería la moda   

	-->

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Pruebas</title>
	</head>
	<script>
		function introducirValores() {
			var arrayNumeros = [];

			while (true) {
				nuevoNumero = Number(
					prompt(
						"Introduzca un número para añadirlo o una letra terminar de introducir números"
					)
				);
				if (
					isNaN(nuevoNumero) ||
					nuevoNumero == 0 ||
					nuevoNumero < 0 ||
					nuevoNumero == null
				) {
					break;
				} else {
					arrayNumeros.push(nuevoNumero);
				}
			}
			alert(arrayNumeros);
			alert("Longitud del array: " + arrayNumeros.length);
			calcularMedia(arrayNumeros);
			calcularRango(arrayNumeros);
			calcularModa(arrayNumeros);
		}

		function calcularMedia(arrayNumeros) {
			var sumaNumeros = Number(0);
			var media = Number(arrayNumeros.length);

			for (i = 0; i < arrayNumeros.length; i++) {
				sumaNumeros += arrayNumeros[i];
			}

			alert("La suma de los números es: " + sumaNumeros);
			alert("La Media de la serie de números es: " + sumaNumeros / media);
		}

		function calcularRango(arrayNumeros) {
			var numMayor = Number(0);
			var numMenor;
			var rango = Number(0);

			for (i = 0; i < arrayNumeros.length; i++) {
				if (arrayNumeros[i] > numMayor) {
					numMayor = arrayNumeros[i];
				}
			}

			numMenor = numMayor;

			for (i = 0; i < arrayNumeros.length; i++) {
				if (arrayNumeros[i] < numMenor) {
					numMenor = arrayNumeros[i];
				}
			}

			rango = numMayor - numMenor;

			alert("El número más grande es: " + numMayor);
			alert("El número más pequeño es: " + numMenor);
			alert("El Rango es: " + rango);
		}

		function calcularModa(arrayNumeros) {
    var moda = [];
    var maxFrecuencia = 0;

    for (var i = 0; i < arrayNumeros.length; i++) {
        var numero = arrayNumeros[i];
        var frecuencia = 1;

        // Comprobar si el número se repite adyacente
        while (i + 1 < arrayNumeros.length && arrayNumeros[i + 1] === numero) {
            frecuencia++;
            i++;
        }

        if (frecuencia > maxFrecuencia) {
            moda = [numero];
            maxFrecuencia = frecuencia;
        } else if (frecuencia === maxFrecuencia) {
            moda.push(numero);
        }
    }

    if (maxFrecuencia === 1) {
        alert("No hay moda en la serie de números.");
    } else {
        alert("La moda estadística considerando la adyacencia es: " + moda);
    }
}




		introducirValores();
	</script>
	<body></body>
</html>
